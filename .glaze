session "Glaze" {
  reattach_on_start = false

  window "Workspace" {
    layout = "tiled"
    starting_directory = "~/Development/github/wilhelm-murdoch/glaze"

    pane "Terminal" {
      split = "vertical"
      focus = true
    }

    pane "Watcher" {
      split = "vertical"
      starting_directory = "~/Development/github/wilhelm-murdoch/glaze/cmd/glaze/"
      commands = [
        "fswatch -or ../../ | xargs -n1 -I{} go run main.go up ../../.glaze"
      ]
    }

    pane "Tester" {
      split = "vertical"
      starting_directory = "~/Development/github/wilhelm-murdoch/glaze/"
      commands = [
        "fswatch -or . | xargs -n1 -I{} go test"
      ]
    }
  }
}